# MemoryOS Configuration

server:
  host: "0.0.0.0"
  port: 8080
  mode: "debug" # debug, release

database:
  postgres:
    host: "127.0.0.1" # 使用 IPv4 地址避免 IPv6 问题，Docker 环境填 "postgres"
    port: 15432 # Docker 映射到15432避免与本地PostgreSQL冲突
    user: "memoryos"
    password: "memoryos123"
    dbname: "memoryos"
    sslmode: "disable"
  
  redis:
    host: "127.0.0.1" # Docker 环境填 "redis"
    port: 6379
    password: ""
    db: 0

vector:
  provider: "milvus" # milvus, qdrant
  milvus:
    host: "localhost"
    port: 19530

llm:
  provider: "gemini"          # 使用中转接口（兼容 OpenAI API）
  api_key: "sk-pMbjWcgMus0HAFZ8uKBPYqzoStHK9letE7dssEXK8IN8ZYX6"  # ✅ 已配置
  model: "gemini-3-flash-preview"  # 使用 Gemini 3 Flash Preview 模型
  base_url: "https://api.lingyaai.cn"  # 中转接口地址
  
embedding:
  provider: "gemini"           # 使用中转接口
  api_key: "sk-pMbjWcgMus0HAFZ8uKBPYqzoStHK9letE7dssEXK8IN8ZYX6"  # ✅ 已配置
  model: "qwen3-embedding-4b"  # ✅ 正确的模型名称（根据/v1/models接口验证）
  base_url: "https://api.lingyaai.cn/v1"  # ✅ 完整路径（Eino会自动拼接/embeddings）
  dimension: 768               # ✅ 目标维度（需要降维处理）

memory:
  max_working_memory: 10
  compression_threshold: 100
  decay_days: 30

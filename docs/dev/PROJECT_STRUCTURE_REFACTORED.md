# MemoryOS é¡¹ç›®ç»“æ„ï¼ˆé‡æ„åï¼‰

ç”Ÿæˆæ—¶é—´ï¼š2026-01-23

## ğŸ“ å®Œæ•´ç›®å½•æ ‘

```
MemoryOS/
â”œâ”€â”€ .github/                    # GitHub é…ç½®
â”‚   â””â”€â”€ copilot-instructions.md
â”‚
â”œâ”€â”€ cmd/                        # åº”ç”¨ç¨‹åºå…¥å£
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ main.go
â”‚
â”œâ”€â”€ config/                     # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.example.yaml     # é…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ config.yaml             # ä¸»é…ç½®ï¼ˆ.gitignoreï¼‰
â”‚   â””â”€â”€ test/                   # æµ‹è¯•é…ç½®
â”‚       â”œâ”€â”€ mock.yaml
â”‚       â””â”€â”€ integration.yaml
â”‚
â”œâ”€â”€ docker/                     # Docker é…ç½®
â”‚   â”œâ”€â”€ app/
â”‚   â””â”€â”€ postgres/
â”‚       â””â”€â”€ migrations/         # æ•°æ®åº“è¿ç§»è„šæœ¬
â”‚
â”œâ”€â”€ docs/                       # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ api/                    # API æ–‡æ¡£
â”‚   â”‚   â””â”€â”€ API_GUIDE.md
â”‚   â”œâ”€â”€ guides/                 # ä½¿ç”¨æŒ‡å—
â”‚   â”‚   â”œâ”€â”€ CHATBOT_USAGE.md
â”‚   â”‚   â”œâ”€â”€ GEMINI_SETUP.md
â”‚   â”‚   â”œâ”€â”€ GEMINI_COST_OPTIMIZATION.md
â”‚   â”‚   â””â”€â”€ MILVUS_IMPLEMENTATION.md
â”‚   â””â”€â”€ dev/                    # å¼€å‘æ–‡æ¡£
â”‚       â”œâ”€â”€ BUG_REPORT.md
â”‚       â”œâ”€â”€ CONTRIBUTING.md     # â­ æ–°å¢
â”‚       â””â”€â”€ PROJECT_STRUCTURE.md
â”‚
â”œâ”€â”€ examples/                   # ç¤ºä¾‹ä»£ç 
â”‚   â””â”€â”€ chatbot/
â”‚       â””â”€â”€ main.go             # Chatbot å®Œæ•´ç¤ºä¾‹
â”‚
â”œâ”€â”€ internal/                   # å†…éƒ¨åŒ…ï¼ˆä¸å¯å¯¼å‡ºï¼‰
â”‚   â”œâ”€â”€ adapter/                # é€‚é…å™¨å±‚
â”‚   â”‚   â””â”€â”€ eino.go
â”‚   â”œâ”€â”€ bootstrap/              # åº”ç”¨å¯åŠ¨
â”‚   â”‚   â””â”€â”€ app.go
â”‚   â”œâ”€â”€ config/                 # é…ç½®åŠ è½½
â”‚   â”‚   â””â”€â”€ config.go
â”‚   â”œâ”€â”€ handler/                # HTTP å¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ memory.go
â”‚   â”œâ”€â”€ llm/                    # LLM å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ interface.go
â”‚   â”‚   â”œâ”€â”€ gemini.go
â”‚   â”‚   â””â”€â”€ openai.go           # â­ æ–°å¢
â”‚   â”œâ”€â”€ mock/                   # Mock å®ç°
â”‚   â”‚   â””â”€â”€ stores.go
â”‚   â”œâ”€â”€ model/                  # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ memory.go
â”‚   â”œâ”€â”€ service/                # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â””â”€â”€ memory/
â”‚   â”‚       â””â”€â”€ manager.go
â”‚   â””â”€â”€ storage/                # å­˜å‚¨å±‚
â”‚       â”œâ”€â”€ milvus/
â”‚       â”‚   â””â”€â”€ vector_store.go
â”‚       â””â”€â”€ postgres/
â”‚           â”œâ”€â”€ converter.go
â”‚           â”œâ”€â”€ metadata_store.go
â”‚           â””â”€â”€ models.go
â”‚
â”œâ”€â”€ scripts/                    # è‡ªåŠ¨åŒ–è„šæœ¬ â­ é‡ç»„
â”‚   â”œâ”€â”€ dev/                    # å¼€å‘ç¯å¢ƒ
â”‚   â”‚   â”œâ”€â”€ start_docker.bat
â”‚   â”‚   â”œâ”€â”€ stop_docker.bat
â”‚   â”‚   â”œâ”€â”€ logs_docker.bat
â”‚   â”‚   â””â”€â”€ start_chatbot.bat
â”‚   â”œâ”€â”€ build/                  # æ„å»ºç›¸å…³
â”‚   â”‚   â””â”€â”€ monitor_build.bat
â”‚   â”œâ”€â”€ test/                   # æµ‹è¯•è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ test_docker.bat
â”‚   â”‚   â”œâ”€â”€ test_milvus.bat
â”‚   â”‚   â””â”€â”€ test_storage.ps1
â”‚   â””â”€â”€ README.md               # â­ æ–°å¢
â”‚
â”œâ”€â”€ test/                       # æµ‹è¯•æ–‡ä»¶ â­ é‡ç»„
â”‚   â”œâ”€â”€ integration/            # é›†æˆæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ aggregation_test.go
â”‚   â”‚   â”œâ”€â”€ complete_test.go
â”‚   â”‚   â”œâ”€â”€ db_test.go
â”‚   â”‚   â”œâ”€â”€ embedding_test.go
â”‚   â”‚   â”œâ”€â”€ milvus_test.go
â”‚   â”‚   â”œâ”€â”€ memory_test.go
â”‚   â”‚   â”œâ”€â”€ simple_test.go
â”‚   â”‚   â”œâ”€â”€ debug_test.go
â”‚   â”‚   â””â”€â”€ embedding_debug_test.go
â”‚   â”œâ”€â”€ e2e/                    # ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ create_memory_test.go
â”‚   â”‚   â””â”€â”€ openai_api_test.go
â”‚   â””â”€â”€ README.md               # â­ æ–°å¢
â”‚
â”œâ”€â”€ .dockerignore
â”œâ”€â”€ .env
â”œâ”€â”€ .gitignore                  # â­ æ›´æ–°
â”œâ”€â”€ CHANGELOG.md                # â­ æ–°å¢
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â”œâ”€â”€ LICENSE                     # â­ æ–°å¢ï¼ˆMITï¼‰
â”œâ”€â”€ Makefile
â””â”€â”€ README.md                   # â­ æ›´æ–°

# è¿è¡Œæ—¶æ•°æ®ï¼ˆå·²åœ¨ .gitignore ä¸­ï¼‰
data/
â”œâ”€â”€ etcd/
â”œâ”€â”€ milvus/
â”œâ”€â”€ minio/
â”œâ”€â”€ postgres/
â””â”€â”€ redis/

# ç¼–è¯‘äº§ç‰©ï¼ˆå·²åœ¨ .gitignore ä¸­ï¼‰
bin/
â””â”€â”€ server.exe

# æ—¥å¿—æ–‡ä»¶ï¼ˆå·²åœ¨ .gitignore ä¸­ï¼‰
logs/
```

---

## âœ… é‡æ„æ€»ç»“

### 1. æ–°å¢ç›®å½•ç»“æ„
- âœ… `scripts/dev/` - å¼€å‘è„šæœ¬
- âœ… `scripts/build/` - æ„å»ºè„šæœ¬
- âœ… `scripts/test/` - æµ‹è¯•è„šæœ¬
- âœ… `test/integration/` - é›†æˆæµ‹è¯•
- âœ… `test/e2e/` - ç«¯åˆ°ç«¯æµ‹è¯•
- âœ… `config/test/` - æµ‹è¯•é…ç½®
- âœ… `docs/api/` - API æ–‡æ¡£
- âœ… `docs/guides/` - ä½¿ç”¨æŒ‡å—
- âœ… `docs/dev/` - å¼€å‘æ–‡æ¡£

### 2. æ–‡ä»¶ç§»åŠ¨
- âœ… 7 ä¸ª `.bat` è„šæœ¬ â†’ `scripts/`
- âœ… 10 ä¸ªæµ‹è¯•æ–‡ä»¶ â†’ `test/integration/` å’Œ `test/e2e/`
- âœ… 2 ä¸ªæµ‹è¯•é…ç½® â†’ `config/test/`
- âœ… 6 ä¸ªæ–‡æ¡£æ–‡ä»¶ â†’ `docs/` å­ç›®å½•

### 3. æ–°å¢æ–‡æ¡£
- âœ… `CHANGELOG.md` - å˜æ›´æ—¥å¿—
- âœ… `LICENSE` - MIT è®¸å¯è¯
- âœ… `docs/dev/CONTRIBUTING.md` - è´¡çŒ®æŒ‡å—
- âœ… `scripts/README.md` - è„šæœ¬è¯´æ˜
- âœ… `test/README.md` - æµ‹è¯•æŒ‡å—

### 4. æ›´æ–°æ–‡ä»¶
- âœ… `.gitignore` - æ’é™¤è¿è¡Œæ—¶æ•°æ®
- âœ… `README.md` - æ·»åŠ æ–‡æ¡£å¯¼èˆªå’Œ Badge

### 5. åˆ é™¤å†…å®¹
- âœ… `internal/api/` ç©ºç›®å½•
- âœ… æ ¹ç›®å½•æ•£ä¹±çš„è„šæœ¬æ–‡ä»¶

---

## ğŸ“Š å¯¹æ¯”åˆ†æ

### é‡æ„å‰
```
æ ¹ç›®å½•æ··ä¹±: 7 ä¸ª .bat æ–‡ä»¶æ•£è½
æµ‹è¯•æ··ä¹±: test/ ç›®å½• 10 ä¸ªæ–‡ä»¶æ— åˆ†ç±»
é…ç½®æ··ä¹±: 4 ä¸ª yaml æ–‡ä»¶éš¾ä»¥ç®¡ç†
æ–‡æ¡£ç¼ºå¤±: æ— è´¡çŒ®æŒ‡å—ã€è®¸å¯è¯ã€å˜æ›´æ—¥å¿—
```

### é‡æ„å
```
æ ¹ç›®å½•æ¸…çˆ½: åªä¿ç•™æ ¸å¿ƒæ–‡ä»¶
æµ‹è¯•è§„èŒƒ: integration/ å’Œ e2e/ æ˜ç¡®åˆ†ç±»
é…ç½®æ¸…æ™°: test/ å­ç›®å½•ä¸“é—¨ç®¡ç†æµ‹è¯•é…ç½®
æ–‡æ¡£å®Œå–„: å®Œæ•´çš„é¡¹ç›®æ–‡æ¡£ä½“ç³»
```

---

## ğŸ¯ ç¬¦åˆ Go æœ€ä½³å®è·µ

### âœ… é¡¹ç›®å¸ƒå±€ï¼ˆStandard Go Project Layoutï¼‰
- `cmd/` - åº”ç”¨ç¨‹åºå…¥å£
- `internal/` - ç§æœ‰ä»£ç 
- `pkg/` - å¯å¯¼å‡ºåº“ï¼ˆå¾…æ‰©å±•ï¼‰
- `test/` - é¢å¤–çš„æµ‹è¯•æ–‡ä»¶
- `scripts/` - è„šæœ¬å’Œå·¥å…·
- `docs/` - è®¾è®¡æ–‡æ¡£

### âœ… æµ‹è¯•ç»„ç»‡
- é›†æˆæµ‹è¯•ç‹¬ç«‹ç›®å½•
- ç«¯åˆ°ç«¯æµ‹è¯•ç‹¬ç«‹ç›®å½•
- æµ‹è¯•é…ç½®ç»Ÿä¸€ç®¡ç†

### âœ… æ–‡æ¡£å®Œæ•´æ€§
- README æ¸…æ™°æ˜“æ‡‚
- è´¡çŒ®æŒ‡å—æ˜ç¡®
- API æ–‡æ¡£è¯¦å°½
- å˜æ›´æ—¥å¿—è§„èŒƒ

---

## ğŸš€ åç»­å»ºè®®

### P0 - å•å…ƒæµ‹è¯•
ä¸ºæ¯ä¸ªåŒ…æ·»åŠ  `*_test.go` æ–‡ä»¶ï¼š
```
internal/llm/gemini_test.go
internal/llm/openai_test.go
internal/storage/postgres/metadata_store_test.go
internal/service/memory/manager_test.go
```

### P1 - CI/CD
æ·»åŠ  GitHub Actionsï¼š
```yaml
.github/workflows/
â”œâ”€â”€ test.yml          # è‡ªåŠ¨è¿è¡Œæµ‹è¯•
â”œâ”€â”€ lint.yml          # ä»£ç æ£€æŸ¥
â””â”€â”€ release.yml       # è‡ªåŠ¨å‘å¸ƒ
```

### P2 - å®¹å™¨åŒ–
å®Œå–„ Docker æ”¯æŒï¼š
```
Dockerfile            # åº”ç”¨é•œåƒ
docker-compose.prod.yml  # ç”Ÿäº§ç¯å¢ƒé…ç½®
```

---

**é‡æ„å®Œæˆæ—¶é—´**: çº¦ 15 åˆ†é’Ÿ  
**æ–‡ä»¶ç§»åŠ¨æ•°**: 25 ä¸ªæ–‡ä»¶  
**æ–°å¢æ–‡æ¡£**: 5 ä¸ªæ–‡ä»¶  
**æ•´ä½“æå‡**: é¡¹ç›®è§„èŒƒæ€§ â­â­â­â­â­
